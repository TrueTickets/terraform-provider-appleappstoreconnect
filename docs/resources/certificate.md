---
page_title:
    "appleappstoreconnect_certificate Resource - appleappstoreconnect"
subcategory: ""
description: |-
    Manages a Certificate in App Store Connect.
---

# appleappstoreconnect_certificate (Resource)

Manages a Certificate in App Store Connect.

Certificates are used to sign Apple Wallet passes and enable features
like NFC. Different certificate types provide different capabilities.

**Auto-Renewal**: The certificate resource supports automatic recreation
before expiration using the `recreate_threshold` argument.

## Example Usage

### Basic Pass Certificate

```hcl
resource "appleappstoreconnect_pass_type_id" "example" {
  identifier  = "pass.io.truetickets.test.membership"
  description = "Example Pass"
}

resource "appleappstoreconnect_certificate" "example" {
  certificate_type = "PASS_TYPE_ID"
  csr_content     = file("example.csr")

  # Automatically recreate certificate 30 days before expiration (default)
  recreate_threshold = 2592000  # 30 days in seconds

  relationships = {
    pass_type_id = appleappstoreconnect_pass_type_id.example.id
  }
}

output "certificate_info" {
  value = {
    serial_number = appleappstoreconnect_certificate.example.serial_number
    expires       = appleappstoreconnect_certificate.example.expiration_date
  }
}
```

### NFC-Enabled Certificate

```hcl
resource "appleappstoreconnect_pass_type_id" "nfc_pass" {
  identifier  = "pass.io.truetickets.test.nfc"
  description = "NFC-Enabled Pass"
}

resource "appleappstoreconnect_certificate" "nfc_cert" {
  certificate_type = "PASS_TYPE_ID_WITH_NFC"
  csr_content     = file("nfc_pass.csr")

  relationships {
    pass_type_id = appleappstoreconnect_pass_type_id.nfc_pass.id
  }
}
```

### Save Certificate to File

```hcl
resource "appleappstoreconnect_certificate" "example" {
  certificate_type = "PASS_TYPE_ID"
  csr_content     = file("example.csr")

  relationships {
    pass_type_id = appleappstoreconnect_pass_type_id.example.id
  }
}

resource "local_file" "certificate" {
  content  = appleappstoreconnect_certificate.example.certificate_content
  filename = "certificate.pem"
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `certificate_type` (String) The type of certificate to create. Valid
  values are: `IOS_DEVELOPMENT`, `IOS_DISTRIBUTION`,
  `MAC_APP_DEVELOPMENT`, `MAC_APP_DISTRIBUTION`,
  `MAC_INSTALLER_DISTRIBUTION`, `PASS_TYPE_ID`, `PASS_TYPE_ID_WITH_NFC`,
  `DEVELOPER_ID_KEXT`, `DEVELOPER_ID_APPLICATION`,
  `DEVELOPMENT_PUSH_SSL`, `PRODUCTION_PUSH_SSL`, `PUSH_SSL`.
- `csr_content` (String, Sensitive) The certificate signing request
  (CSR) content in PEM format.

### Optional

- `recreate_threshold` (Number) The number of seconds before certificate
  expiration when Terraform should recreate the certificate. Set to 0 to
  disable automatic recreation. Default is 2592000 seconds (30 days).
- `relationships` (Attributes) The relationships for the certificate.
  (see [below for nested schema](#nestedatt--relationships))

### Read-Only

- `certificate_content` (String, Sensitive) The certificate content in
  PEM format.
- `display_name` (String) The display name of the certificate.
- `expiration_date` (String) The expiration date of the certificate.
- `id` (String) The unique identifier of the Certificate.
- `name` (String) The name of the certificate.
- `platform` (String) The platform for the certificate.
- `serial_number` (String) The serial number of the certificate.

<a id="nestedatt--relationships"></a>

### Nested Schema for `relationships`

Optional:

- `pass_type_id` (String) The ID of the Pass Type ID to associate with
  this certificate. Required for PASS_TYPE_ID and PASS_TYPE_ID_WITH_NFC
  certificate types.

## Certificate Types

The following certificate types are supported:

- `PASS_TYPE_ID` - Standard Pass Type ID certificate
- `PASS_TYPE_ID_WITH_NFC` - Pass Type ID certificate with NFC
  capabilities
- `IOS_DEVELOPMENT` - iOS development certificate
- `IOS_DISTRIBUTION` - iOS distribution certificate
- `MAC_APP_DEVELOPMENT` - Mac app development certificate
- `MAC_APP_DISTRIBUTION` - Mac app distribution certificate
- `MAC_INSTALLER_DISTRIBUTION` - Mac installer distribution certificate
- `DEVELOPER_ID_KEXT` - Developer ID Kernel Extension certificate
- `DEVELOPER_ID_APPLICATION` - Developer ID Application certificate
- `DEVELOPMENT_PUSH_SSL` - Development push SSL certificate
- `PRODUCTION_PUSH_SSL` - Production push SSL certificate
- `PUSH_SSL` - Push SSL certificate

## Import

Certificates can be imported using their ID:

```bash
terraform import appleappstoreconnect_certificate.example YYYYYYYYYY
```

Where `YYYYYYYYYY` is the Certificate ID from App Store Connect.

## Auto-Renewal Examples

### Certificate with Custom Renewal Threshold

```hcl
resource "appleappstoreconnect_certificate" "auto_renew" {
  certificate_type = "PASS_TYPE_ID"
  csr_content     = tls_cert_request.example.cert_request_pem

  # Recreate 60 days before expiration
  recreate_threshold = 5184000  # 60 days in seconds

  relationships = {
    pass_type_id = appleappstoreconnect_pass_type_id.example.id
  }
}
```

### Disable Auto-Renewal

```hcl
resource "appleappstoreconnect_certificate" "manual_only" {
  certificate_type = "PASS_TYPE_ID"
  csr_content     = tls_cert_request.example.cert_request_pem

  # Disable automatic recreation
  recreate_threshold = 0

  relationships = {
    pass_type_id = appleappstoreconnect_pass_type_id.example.id
  }
}
```

## Certificate Lifecycle

- **Creation**: Creates a new certificate using the provided CSR
- **Expiration Monitoring**: Automatically monitors certificate
  expiration based on `recreate_threshold`
- **Auto-Renewal**: Triggers recreation when expiration is within
  threshold
- **Deletion**: Removes certificate from Terraform state (certificates
  cannot be revoked via API)

**Note**: Apple's App Store Connect API does not support programmatic
certificate revocation. When a certificate resource is destroyed, it is
only removed from Terraform state. To revoke a certificate, contact
Apple Developer Program Support.
